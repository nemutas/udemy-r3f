(this.webpackJsonplearn_r3f=this.webpackJsonplearn_r3f||[]).push([[0],{58:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);a(58);var c=a(1),n=a.n(c),s=a(26),r=a.n(s),i=a(29),o=a(80),j=a(16),u=a(0),b=function(e){return"/udemy-r3f"+e},l=function(){var e=Object(j.c)(u.TextureLoader,b("/assets/autoshop.jpg")),t=Object(j.d)(),a=t.gl,n=t.scene,s=Object(c.useMemo)((function(){return new u.WebGLCubeRenderTarget(e.image.height).fromEquirectangularTexture(a,e)}),[a,e]);return n.background=s.texture,null},h=a(22),d=a(14),O={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},f={activeMesh:null,activeMeshName:O[1].name,cameraPos:Object(h.a)(u.Vector3,Object(d.a)(O[1].cameraPos)),target:Object(h.a)(u.Vector3,Object(d.a)(O[1].target)),shouldUpdate:!0},m=function(){return Object(j.b)((function(e){var t=e.camera,a=e.scene;if(f.activeMesh&&f.activeMesh.name===f.activeMeshName||(f.activeMesh=a.getObjectByName(f.activeMeshName)),f.shouldUpdate){t.position.lerp(f.cameraPos,.1);var c=a;c.orbitControls.target.lerp(f.target,.1),c.orbitControls.update(),t.position.clone().sub(f.cameraPos).length()<.1&&(f.shouldUpdate=!1)}})),null},p=a(6),g=a(12),x=function(e){var t=e.children,a=e.position,n=void 0===a?[0,0,0]:a,s=e.offset,r=void 0===s?[0,0,0]:s,o=e.dimensions,j=void 0===o?[1,1,1]:o,u=e.visible,b=void 0!==u&&u,l=Object(i.b)((function(){return{mass:1,args:j,position:n}})),h=Object(p.a)(l,2),d=h[0],O=h[1];return Object(c.useEffect)((function(){d.current.userData.api=O}),[O,d]),Object(g.jsxs)("group",{ref:d,children:[Object(g.jsxs)("mesh",{scale:j,visible:b,children:[Object(g.jsx)("boxBufferGeometry",{}),Object(g.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(g.jsx)("group",{position:r,children:t})]})},v=a(52),w=function(e){var t=e.children,a=Object(c.useRef)(null),n=Object(j.d)(),s=n.camera,r=n.gl,i=n.scene;return Object(c.useEffect)((function(){var e=a.current.children,t=new v.a(e,s,r.domElement);t.transformGroup=!0,t.addEventListener("dragstart",(function(e){i.orbitControls.enabled=!1;var t=e.object.userData.api;t&&t.mass.set(0)})),t.addEventListener("dragend",(function(e){i.orbitControls.enabled=!0;var t=e.object.userData.api;t&&t.mass.set(1)})),t.addEventListener("drag",(function(e){var t=e.object,a=t.userData.api;a&&(a.position.copy(t.position),a.velocity.set(0,0,0))}))}),[s,r.domElement,i]),Object(g.jsx)("group",{ref:a,children:t})},y=a(7),M=a(15),S=a(30),P=a(79),C=a(78),D=["path"],E=function(e){var t=e.path,a=Object(M.a)(e,D),n=Object(P.a)(b(t)),s=Object(S.b)({animetion:!0}),r=Object(C.a)(n.animations),i=r.ref,o=r.names,j=r.actions;return Object(c.useEffect)((function(){var e,t;s.animetion?null===(e=j[o[0]])||void 0===e||e.reset().fadeIn(.5).play():null===(t=j[o[0]])||void 0===t||t.fadeOut(.5)}),[j,o,s]),n.scene.traverse((function(e){if(e instanceof u.Mesh){var t=e;t.castShadow=!0,t.receiveShadow=!0,t.material.side=u.FrontSide}})),Object(g.jsx)("primitive",Object(y.a)({ref:i,object:n.scene},a))},L=function(){return Object(g.jsxs)(c.Suspense,{fallback:null,children:[Object(g.jsx)(w,{children:Object(g.jsx)(x,{visible:!0,position:[4,2,0],dimensions:[3,2,6],offset:[0,-.4,.8],children:Object(g.jsx)(E,{path:"/models/tesla_model_3/scene.gltf",scale:.01})})}),Object(g.jsx)(w,{children:Object(g.jsx)(x,{visible:!0,position:[-4,2,0],dimensions:[3,2,7],offset:[0,-.8,.2],children:Object(g.jsx)(E,{path:"/models/tesla_model_s/scene.gltf",scale:.013})})}),Object(g.jsx)("group",{rotation:[0,Math.PI/2,0],children:Object(g.jsx)(E,{path:"/models/veribot/scene.gltf",scale:1})})]})},_=function(){var e=Object(j.d)().scene,t=Object(S.b)((function(){return{color:"#fff",car1:Object(S.a)((function(){return r(1)})),car2:Object(S.a)((function(){return r(2)}))}})),a=Object(p.a)(t,2),n=a[0],s=a[1],r=function(e){!function(e){var t,a,c=O[e];(t=f.cameraPos).set.apply(t,Object(d.a)(c.cameraPos)),(a=f.target).set.apply(a,Object(d.a)(c.target)),f.activeMeshName=c.name,f.shouldUpdate=!0}(e);var t=i();s({color:"#".concat(t.color.getHexString())})},i=Object(c.useCallback)((function(){return e.getObjectByName(f.activeMeshName).material}),[e]);return Object(c.useEffect)((function(){f.activeMesh&&i().color.set(n.color)}),[n,i]),null},k=a(43),N=function(){var e=Object(c.useState)(null),t=Object(p.a)(e,2),a=t[0],n=t[1],s=Object(j.d)().scene;return Object(c.useEffect)((function(){s.userData.lights&&3===s.userData.lights.length&&n(s.userData.lights)}),[s.userData.lights]),a?Object(g.jsxs)(k.b,{children:[Object(g.jsx)(k.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),Object(g.jsx)(g.Fragment,{children:a.map((function(e){return Object(g.jsx)(k.c,{sun:e.current},e.current.uuid)}))})]}):null},B=function(e){var t=Object(i.b)((function(){return Object(y.a)({args:[200,1,200]},e)})),a=Object(p.a)(t,1)[0];return Object(g.jsxs)("mesh",Object(y.a)(Object(y.a)({ref:a},e),{},{receiveShadow:!0,children:[Object(g.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(g.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},F=function(e){var t=Object(c.useRef)(null),a=Object(j.d)().scene;return Object(c.useEffect)((function(){a.userData.lights?a.userData.lights.push(t):a.userData.lights=[t]}),[a.userData]),Object(g.jsxs)("mesh",Object(y.a)(Object(y.a)({ref:t},e),{},{children:[Object(g.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":10}),Object(g.jsx)("sphereBufferGeometry",{args:[.2]}),Object(g.jsx)("meshPhongMaterial",{emissive:new u.Color("yellow")})]}))},T=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ambientLight",{intensity:.2}),Object(g.jsx)("directionalLight",{position:[6,3,0],intensity:2,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":10,castShadow:!0}),Object(g.jsx)(F,{position:[-6,3,0]}),Object(g.jsx)(F,{position:[0,3,0]}),Object(g.jsx)(F,{position:[6,3,0]})]})},G=function(){return Object(g.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(g.jsxs)(j.a,{style:{backgroundColor:"black"},camera:{position:[7,7,7]},shadows:!0,children:[Object(g.jsx)(o.a,{attach:"orbitControls"}),Object(g.jsx)(m,{}),Object(g.jsx)(_,{}),Object(g.jsx)(T,{}),Object(g.jsx)("axesHelper",{args:[5]}),Object(g.jsx)(c.Suspense,{fallback:null,children:Object(g.jsx)(l,{})}),Object(g.jsxs)(i.a,{children:[Object(g.jsx)(L,{}),Object(g.jsx)(B,{position:[0,-.5,0]})]}),Object(g.jsx)(N,{})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root")),I()}},[[77,1,2]]]);
//# sourceMappingURL=main.1e1a48f4.chunk.js.map