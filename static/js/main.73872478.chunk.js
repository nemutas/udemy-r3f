(this.webpackJsonplearn_r3f=this.webpackJsonplearn_r3f||[]).push([[0],{58:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);a(58);var c=a(1),n=a.n(c),s=a(26),r=a.n(s),i=a(29),o=a(80),j=a(16),u=a(0),b=function(){var e=Object(j.c)(u.TextureLoader,"/assets/autoshop.jpg"),t=Object(j.d)(),a=t.gl,n=t.scene,s=Object(c.useMemo)((function(){return new u.WebGLCubeRenderTarget(e.image.height).fromEquirectangularTexture(a,e)}),[a,e]);return n.background=s.texture,null},l=a(22),h=a(14),d={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},O={activeMesh:null,activeMeshName:d[1].name,cameraPos:Object(l.a)(u.Vector3,Object(h.a)(d[1].cameraPos)),target:Object(l.a)(u.Vector3,Object(h.a)(d[1].target)),shouldUpdate:!0},f=function(){return Object(j.b)((function(e){var t=e.camera,a=e.scene;if(O.activeMesh&&O.activeMesh.name===O.activeMeshName||(O.activeMesh=a.getObjectByName(O.activeMeshName)),O.shouldUpdate){t.position.lerp(O.cameraPos,.1);var c=a;c.orbitControls.target.lerp(O.target,.1),c.orbitControls.update(),t.position.clone().sub(O.cameraPos).length()<.1&&(O.shouldUpdate=!1)}})),null},m=a(6),p=a(12),g=function(e){var t=e.children,a=e.position,n=void 0===a?[0,0,0]:a,s=e.offset,r=void 0===s?[0,0,0]:s,o=e.dimensions,j=void 0===o?[1,1,1]:o,u=e.visible,b=void 0!==u&&u,l=Object(i.b)((function(){return{mass:1,args:j,position:n}})),h=Object(m.a)(l,2),d=h[0],O=h[1];return Object(c.useEffect)((function(){d.current.userData.api=O}),[O,d]),Object(p.jsxs)("group",{ref:d,children:[Object(p.jsxs)("mesh",{scale:j,visible:b,children:[Object(p.jsx)("boxBufferGeometry",{}),Object(p.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(p.jsx)("group",{position:r,children:t})]})},x=a(52),v=function(e){var t=e.children,a=Object(c.useRef)(null),n=Object(j.d)(),s=n.camera,r=n.gl,i=n.scene;return Object(c.useEffect)((function(){var e=a.current.children,t=new x.a(e,s,r.domElement);t.transformGroup=!0,t.addEventListener("dragstart",(function(e){i.orbitControls.enabled=!1;var t=e.object.userData.api;t&&t.mass.set(0)})),t.addEventListener("dragend",(function(e){i.orbitControls.enabled=!0;var t=e.object.userData.api;t&&t.mass.set(1)})),t.addEventListener("drag",(function(e){var t=e.object,a=t.userData.api;a&&(a.position.copy(t.position),a.velocity.set(0,0,0))}))}),[s,r.domElement,i]),Object(p.jsx)("group",{ref:a,children:t})},w=a(7),y=a(15),M=a(30),S=a(79),P=a(78),C=["path"],D=function(e){var t=e.path,a=Object(y.a)(e,C),n=Object(S.a)(t),s=Object(M.b)({animetion:!0}),r=Object(P.a)(n.animations),i=r.ref,o=r.names,j=r.actions;return Object(c.useEffect)((function(){var e,t;s.animetion?null===(e=j[o[0]])||void 0===e||e.reset().fadeIn(.5).play():null===(t=j[o[0]])||void 0===t||t.fadeOut(.5)}),[j,o,s]),n.scene.traverse((function(e){if(e instanceof u.Mesh){var t=e;t.castShadow=!0,t.receiveShadow=!0,t.material.side=u.FrontSide}})),Object(p.jsx)("primitive",Object(w.a)({ref:i,object:n.scene},a))},E=function(){return Object(p.jsxs)(c.Suspense,{fallback:null,children:[Object(p.jsx)(v,{children:Object(p.jsx)(g,{visible:!0,position:[4,2,0],dimensions:[3,2,6],offset:[0,-.4,.8],children:Object(p.jsx)(D,{path:"/models/tesla_model_3/scene.gltf",scale:.01})})}),Object(p.jsx)(v,{children:Object(p.jsx)(g,{visible:!0,position:[-4,2,0],dimensions:[3,2,7],offset:[0,-.8,.2],children:Object(p.jsx)(D,{path:"/models/tesla_model_s/scene.gltf",scale:.013})})}),Object(p.jsx)("group",{rotation:[0,Math.PI/2,0],children:Object(p.jsx)(D,{path:"/models/veribot/scene.gltf",scale:1})})]})},L=function(){var e=Object(j.d)().scene,t=Object(M.b)((function(){return{color:"#fff",car1:Object(M.a)((function(){return r(1)})),car2:Object(M.a)((function(){return r(2)}))}})),a=Object(m.a)(t,2),n=a[0],s=a[1],r=function(e){!function(e){var t,a,c=d[e];(t=O.cameraPos).set.apply(t,Object(h.a)(c.cameraPos)),(a=O.target).set.apply(a,Object(h.a)(c.target)),O.activeMeshName=c.name,O.shouldUpdate=!0}(e);var t=i();s({color:"#".concat(t.color.getHexString())})},i=Object(c.useCallback)((function(){return e.getObjectByName(O.activeMeshName).material}),[e]);return Object(c.useEffect)((function(){O.activeMesh&&i().color.set(n.color)}),[n,i]),null},_=a(43),k=function(){var e=Object(c.useState)(null),t=Object(m.a)(e,2),a=t[0],n=t[1],s=Object(j.d)().scene;return Object(c.useEffect)((function(){s.userData.lights&&3===s.userData.lights.length&&n(s.userData.lights)}),[s.userData.lights]),a?Object(p.jsxs)(_.b,{children:[Object(p.jsx)(_.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),Object(p.jsx)(p.Fragment,{children:a.map((function(e){return Object(p.jsx)(_.c,{sun:e.current},e.current.uuid)}))})]}):null},N=function(e){var t=Object(i.b)((function(){return Object(w.a)({args:[200,1,200]},e)})),a=Object(m.a)(t,1)[0];return Object(p.jsxs)("mesh",Object(w.a)(Object(w.a)({ref:a},e),{},{receiveShadow:!0,children:[Object(p.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(p.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},B=function(e){var t=Object(c.useRef)(null),a=Object(j.d)().scene;return Object(c.useEffect)((function(){a.userData.lights?a.userData.lights.push(t):a.userData.lights=[t]}),[a.userData]),Object(p.jsxs)("mesh",Object(w.a)(Object(w.a)({ref:t},e),{},{children:[Object(p.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":10}),Object(p.jsx)("sphereBufferGeometry",{args:[.2]}),Object(p.jsx)("meshPhongMaterial",{emissive:new u.Color("yellow")})]}))},F=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ambientLight",{intensity:.2}),Object(p.jsx)("directionalLight",{position:[6,3,0],intensity:2,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":10,castShadow:!0}),Object(p.jsx)(B,{position:[-6,3,0]}),Object(p.jsx)(B,{position:[0,3,0]}),Object(p.jsx)(B,{position:[6,3,0]})]})},T=function(){return Object(p.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(p.jsxs)(j.a,{style:{backgroundColor:"black"},camera:{position:[7,7,7]},shadows:!0,children:[Object(p.jsx)(o.a,{attach:"orbitControls"}),Object(p.jsx)(f,{}),Object(p.jsx)(L,{}),Object(p.jsx)(F,{}),Object(p.jsx)("axesHelper",{args:[5]}),Object(p.jsx)(c.Suspense,{fallback:null,children:Object(p.jsx)(b,{})}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(E,{}),Object(p.jsx)(N,{position:[0,-.5,0]})]}),Object(p.jsx)(k,{})]})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),G()}},[[77,1,2]]]);
//# sourceMappingURL=main.73872478.chunk.js.map